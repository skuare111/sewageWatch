# ğŸŒŠ SewageWatch - æ±¡æ°´ç›‘æ§ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºå®æ—¶è§†é¢‘æµçš„æ™ºèƒ½æ±¡æ°´ç›‘æ§ç³»ç»Ÿï¼Œæ”¯æŒæ— äººæœºRTMPæ¨æµã€å®æ—¶è§†é¢‘åˆ†æå’Œä»»åŠ¡ç®¡ç†ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

SewageWatchæ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„æ±¡æ°´ç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œé›†æˆäº†å¤šç§æŠ€æœ¯æ ˆæ¥å®ç°å®æ—¶è§†é¢‘ç›‘æ§ã€æ•°æ®ç®¡ç†å’Œä»»åŠ¡è°ƒåº¦ã€‚ç³»ç»Ÿä¸»è¦ç”¨äºç¯å¢ƒç›‘æµ‹ï¼Œç‰¹åˆ«æ˜¯æ²³é“æ±¡æ°´æ’æ”¾çš„å®æ—¶ç›‘æ§å’Œç®¡ç†ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç§»åŠ¨ç«¯æ¨æµ     â”‚â”€â”€â”€â–¶â”‚   RTMPæœåŠ¡å™¨     â”‚â”€â”€â”€â–¶â”‚   è§†é¢‘å¤„ç†æœåŠ¡   â”‚
â”‚  (DJIæ— äººæœº)    â”‚    â”‚ (Node.js)       â”‚    â”‚   (Python)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                       â”‚
                                â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Webæ’­æ”¾å™¨     â”‚    â”‚   åç«¯APIæœåŠ¡    â”‚    â”‚   æ•°æ®åº“æœåŠ¡     â”‚
â”‚   (HTML5)       â”‚â—€â”€â”€â”€â”‚  (Spring Boot)  â”‚â”€â”€â”€â–¶â”‚   (MySQL)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   å‰ç«¯ç®¡ç†ç•Œé¢   â”‚
                       â”‚    (Vue.js)     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“¹ å®æ—¶è§†é¢‘ç›‘æ§
- **RTMPæµæ¥æ”¶**: æ”¯æŒç§»åŠ¨ç«¯(DJIæ— äººæœº)å®æ—¶æ¨æµ
- **H.264ä¼˜åŒ–**: ä¸“é—¨ä¼˜åŒ–çš„H.264è§£ç å¤„ç†ï¼Œè§£å†³å¸¸è§çš„è§£ç é”™è¯¯
- **WebSocketä¼ è¾“**: å®æ—¶è§†é¢‘å¸§ä¼ è¾“åˆ°Webç«¯
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒRTMP/HLSå¤šç§æµåª’ä½“æ ¼å¼

### ğŸ¯ ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
- **ä»»åŠ¡åˆ›å»º**: æ”¯æŒåˆ›å»ºå·¡é€»ã€ç¡®è®¤ç­‰ä¸åŒç±»å‹ä»»åŠ¡
- **ä¼˜å…ˆçº§ç®¡ç†**: äº”çº§ä¼˜å…ˆçº§ç³»ç»Ÿ(LOWEST/LOW/MEDIUM/HIGH/HIGHEST)
- **çŠ¶æ€è·Ÿè¸ª**: TODO/DOING/DONEçŠ¶æ€ç®¡ç†
- **æˆªæ­¢æ—¶é—´**: ä»»åŠ¡æˆªæ­¢æ—¶é—´æé†’

### ğŸ”§ ç³»ç»Ÿç®¡ç†
- **ç”¨æˆ·æƒé™**: åŸºäºè§’è‰²çš„ç”¨æˆ·æƒé™ç®¡ç†
- **å®æ—¶ç›‘æ§**: ç³»ç»Ÿæ€§èƒ½å’Œè¿æ¥çŠ¶æ€ç›‘æ§
- **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„æ“ä½œå’Œé”™è¯¯æ—¥å¿—

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æœåŠ¡
- **PythonæœåŠ¡**: FastAPI + OpenCV + FFmpeg + WebSocket
- **JavaæœåŠ¡**: Spring Boot 3.4.6 + MySQL
- **RTMPæœåŠ¡**: Node.js + node-media-server

### å‰ç«¯ç•Œé¢
- **ç®¡ç†ç•Œé¢**: Vue.js 3 + Element Plus + Vite
- **è§†é¢‘æ’­æ”¾**: HTML5 + HLS.js

### æ•°æ®å­˜å‚¨
- **æ•°æ®åº“**: MySQL 8.0+
- **åª’ä½“æ–‡ä»¶**: æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ

### å¼€å‘å·¥å…·
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **æ„å»ºå·¥å…·**: Maven + npm

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
sewageWatch/
â”œâ”€â”€ README.md                           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ sewage-watch-Python/                # Pythonè§†é¢‘å¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ main.py                         # ä¸»æœåŠ¡ç¨‹åº
â”‚   â””â”€â”€ README.md                       # PythonæœåŠ¡è¯´æ˜
â”œâ”€â”€ sewage-watch-JAVA/                  # Javaåç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ src/main/java/com/zhuchen/      # Javaæºç 
â”‚   â”œâ”€â”€ src/main/resources/             # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ pom.xml                         # Mavené…ç½®
â”‚   â”œâ”€â”€ Dockerfile                      # Dockeræ„å»ºæ–‡ä»¶
â”œâ”€â”€ Vue/                                # Vueå‰ç«¯ç®¡ç†ç•Œé¢
â”‚   â”œâ”€â”€ src/                            # Vueæºç 
â”‚   â”œâ”€â”€ package.json                    # npmé…ç½®
â”œâ”€â”€ createDatabase.sql                  # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Node.js**: 16.0+
- **Python**: 3.8+
- **Java**: 17+
- **MySQL**: 8.0+
- **FFmpeg**: 4.0+ (ç”¨äºè§†é¢‘å¤„ç†)

### 1. æ•°æ®åº“åˆå§‹åŒ–

```sql
-- åˆ›å»ºæ•°æ®åº“
mysql -u root -p < createDatabase.sql
```

### 2. å¯åŠ¨æœåŠ¡
**æ‰§è¡Œstart.batæ–‡ä»¶**

å¼€æ”¾ç«¯å£å¦‚ä¸‹:
* 5173 ->  VueæœåŠ¡
* 1935 ->  RTMPæœåŠ¡å™¨(æ¥æ”¶ç«¯å£)
* 8080 ->  JavaæœåŠ¡
* 8081 ->  PythonæœåŠ¡
### 3. ç»ˆæ­¢æœåŠ¡
**æ‰§è¡Œstop.batæ–‡ä»¶**

## ğŸ“± ä½¿ç”¨è¯´æ˜

### RTMPæ¨æµé…ç½®

**æ¨æµåœ°å€æ ¼å¼**:
```
rtmp://æœåŠ¡å™¨IP:1935/live/æµåç§°
```

**ç¤ºä¾‹**:
```
rtmp://192.168.1.100:1935/live/drone_stream
```


### ç®¡ç†ç•Œé¢åŠŸèƒ½

1. **ä»»åŠ¡ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç›‘æ§ä»»åŠ¡
2. **å®æ—¶ç›‘æ§**: æŸ¥çœ‹å½“å‰è§†é¢‘æµçŠ¶æ€
3. **å†å²è®°å½•**: æŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œå†å²
4. **ç”¨æˆ·ç®¡ç†**: ç®¡ç†ç³»ç»Ÿç”¨æˆ·å’Œæƒé™

## ğŸ”§ é…ç½®è¯´æ˜

### RTMPæœåŠ¡å™¨é…ç½® (server.js)

```js
const NodeMediaServer = require('node-media-server');
const config = {
  rtmp: { port: 1935, chunk_size: 4096 }, // æ¥æ”¶ RTMP
  http: { port: 8000, allow_origin: '*' }  // è¾“å‡º WebSocket
};
const nms = new NodeMediaServer(config);
nms.run();
```

### æ•°æ®åº“é…ç½® (application.yml)

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/sewagewatch
    username: root
    password: your_password
    driver-class-name: com.mysql.cj.jdbc.Driver
```

## ğŸš¢ ~~Dockeréƒ¨ç½²(å¾…å®Œæˆ)~~

~~### JavaæœåŠ¡DockeråŒ–~~

```bash
cd sewage-watch-JAVA

# æ„å»ºé•œåƒ
docker build -t sewage-watch-java .

# è¿è¡Œå®¹å™¨
docker run -p 8080:8080 sewage-watch-java
```


## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request


## ğŸ™ è‡´è°¢
æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [OpenCV](https://opencv.org/) - è®¡ç®—æœºè§†è§‰åº“
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£Python Webæ¡†æ¶
- [Spring Boot](https://spring.io/projects/spring-boot) - Javaåº”ç”¨æ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼JavaScriptæ¡†æ¶
- [Node Media Server](https://github.com/illuspas/Node-Media-Server) - RTMPæœåŠ¡å™¨
- [Element Plus](https://element-plus.org/) - Vue 3 UIç»„ä»¶åº“

---

**æ³¨æ„**: æœ¬ç³»ç»Ÿä¸»è¦ç”¨äºç¯å¢ƒç›‘æµ‹å’Œæ•™è‚²ç›®çš„ï¼Œè¯·ç¡®ä¿åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ã€‚